---
title: Architecture
description: A deep dive into the DocXes technical foundation.
order: 1
---

# Architecture

DocXes is built on a "Zero-Core" philosophy. It provides a robust infrastructure for documentation without the complexity of a proprietary, compiled core.

## Technology Stack

- **Next.js 16 (Turbopack)**: Blazing fast development and optimized builds.
- **React 19**: Leveraging the latest concurrent features and server components.
- **Tailwind v4**: Atomic CSS with native CSS variables for high-performance theming.
- **MDX**: Markdown with React component support.
- **Shiki**: High-fidelity syntax highlighting using VS Code's rendering engine.
- **FlexSearch**: High-performance, contextual search indexing.

## Core Systems

### 1. Content Resolution
The framework uses Node.js `fs/promises` to walk the `content/docs` directory.
- **Lazy Loading**: Content is only parsed when requested.
- **Parallel Indexing**: Navigation trees and search indexes are built in parallel using `Promise.all`.
- **Caching**: The `SidebarCacheProvider` ensures that heavy directory walking only happens once per version during a session.

### 2. Plugin & Slot System
The interface is decoupled from the data layer via a registry pattern.
- **Interface Abstraction**: `SidebarProps`, `TOCProps`, and `HeaderProps` define the contract between the framework and the UI.
- **Dependency Injection**: Themes in the `marketplace/` are just partial configuration objects that get merged into the main `XMeta` config.

### 3. Headless Customization
We avoid runtime styling overhead (like `styled-components`) to maintain high Core Web Vitals.
- **ThemeInjector**: A client component that parses the `XMeta.theme.cssVars` and injects them as native CSS variables into the `:root` or `.dark` classes.
- **Design Tokens**: Every UI primitive in `components/ui/` consumes these CSS variables, allowing for "instant" global restyling.

### 4. Search Abstraction
Search is decoupled from any specific engine.
- **Provider Pattern**: By implementing the `SearchProviderInterface`, you can swap the local engine for Algolia, Meilisearch, or a custom API.
- **Normalizer**: The framework normalizes all content into a standard `SearchableDoc` format before indexing.

## Data Flow

1. **Request**: A user visits `/docs/v1/guide`.
2. **Server Action**: `useContentData` validates the route and retrieves the document.
3. **Parallel Fetch**: Navigation (`lib/docs.ts`) and Search Metadata are resolved.
4. **Composition**: The `RootLayout` retrieves the global `header` and `footer` from `XMeta`.
5. **Injection**: `ThemeInjector` sets the design tokens.
6. **Hydration**: React hydrates only the necessary interactive parts (sidebar toggle, search dialog, version picker).
